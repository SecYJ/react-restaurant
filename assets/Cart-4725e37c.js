import{a as r,j as t,F as f}from"./jsx-runtime-00d1b5d3.js";import{L as y}from"./index-0e2cc855.js";import{u as l}from"./CartCtx-6851d5f1.js";import{B as d}from"./Button-3887cb91.js";import{b as x}from"./index-aefd983d.js";import{b as g,a as N}from"./index.esm-a48567f3.js";import{m as C}from"./motion-7a035700.js";const v="/assets/emptyCart-e2d16cf8.jpg",w=()=>r("div",{className:"flex flex-col items-center gap-4",children:[t("img",{src:v,alt:"Empty cart"}),t("h1",{className:"text-center text-xl italic",children:"购物车目前还没有餐点"}),t(y,{type:"button",to:"/menu",className:"btn-primary btn",children:"前往点心列表"})]}),j=()=>{const{totalUnits:e,totalAmount:a}=l(),n=x();return r("div",{className:"sticky bottom-0 left-0 mt-8 flex justify-between border-t border-primary bg-white p-4 font-semibold",children:[r("div",{children:[r("p",{children:["餐点份量: ",e]}),r("p",{children:["总额: RM ",a.toFixed(2)]})]}),t(d,{className:"px-10",onClick:()=>n("/checkout"),children:"付款去"})]})},o=({variant:e,onClick:a,disabled:n=!1})=>e==="add"?t("button",{type:"button",className:"rounded-full p-2 text-white enabled:bg-primary/80 disabled:cursor-not-allowed disabled:bg-primary/60",disabled:n,onClick:a,children:t(g,{})}):t("button",{type:"button",className:"rounded-full border p-2 enabled:border-gray-700 disabled:cursor-not-allowed disabled:border-gray-400",disabled:n,onClick:a,children:t(N,{className:`${n===1?"text-gray-400":""}`})}),k=()=>{const{cart:e,updateCartItem:a,deleteCartItem:n}=l();return t("tbody",{children:e.map((m,h)=>{const{id:i,img:u,name:p,orderQty:s,price:b,stock:c}=m;return r(C.tr,{className:"hover hover:bg-[rgb(229,230,230)]",layoutId:i,children:[t("th",{style:{position:"static"},children:h+1}),t("td",{children:t("img",{src:u,className:"mx-auto h-24 w-24 object-cover"})}),t("td",{children:p}),t("td",{children:r("div",{className:"flex items-center justify-center gap-8",children:[t(o,{variant:"minus",disabled:s-1<1,onClick:()=>{s-1<1||a({direction:"decrement",id:i})}}),t("p",{className:"min-w-[50px]",children:s}),t(o,{variant:"add",disabled:s+1>c,onClick:()=>{s+1>c||a({id:i,direction:"increment"})}})]})}),t("td",{children:(s*b).toFixed(2)}),t("td",{children:t(d,{outline:!0,onClick:()=>n(i),children:"移除"})})]},i)})})},B=()=>{const e="bg-transparent text-2xl";return t("thead",{children:r("tr",{children:[t("th",{className:e}),t("th",{className:e,children:"图片"}),t("th",{className:e,children:"名称"}),t("th",{className:e,children:"数量"}),t("th",{className:e,children:"价格"}),t("th",{className:e})]})})},F=()=>r(f,{children:[r("table",{className:"table w-full text-center",children:[t(B,{}),t(k,{})]}),t(j,{})]}),P=()=>{const{cart:e}=l();return e.length<1?t(w,{}):t("div",{className:"container flex flex-col justify-between py-6 lg:py-10",children:t(F,{})})};export{P as default};
