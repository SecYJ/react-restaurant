import{r as i,j as m}from"./jsx-runtime-00d1b5d3.js";const o=e=>e.sort(()=>Math.random()-.5),f=(e,{payload:r,type:n})=>{const u=t=>t==="全部"?[...e.menu]:e.menu.filter(c=>c.category===t);switch(n){case"SET_MENU":return e.menu.length===0?{...e,menu:o([...r]),filtered_menu:o([...r])}:{...e,filtered_menu:u(e.currentSelect)};case"SEARCH_PRODUCTS":{if(r==="")return{...e,filtered_menu:u(e.currentSelect)};const t=e.menu.filter(c=>c.name.toLowerCase().includes(r));return{...e,filtered_menu:t}}case"SORT_BY_CATEGORY":return{...e,currentSelect:r,filtered_menu:u(r)};case"SET_SEARCH":return{...e,search:r}}throw new Error("Unknown action"+n)},s=i.createContext(),S={menu:[],filtered_menu:[],currentSelect:"全部",search:""},_=({children:e})=>{const[r,n]=i.useReducer(f,S);return m(s.Provider,{value:{...r,dispatch:n},children:e})},C=()=>i.useContext(s);export{_ as M,C as u};
